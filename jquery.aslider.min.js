/*
aslider 1.0.0
(c)2014 aslider team
Released under the MIT license
*/
(function(e){e.fn.extend({aslider:function(t){function l(e){if(s==0)return false;e%=s;var t=c(e);var f=c(e+1);var l=i.eq(t.index);var h=i.eq(f.index);o=t.index+t.point;var p=-d(l.position().left-l.outerWidth(true)*r.option.elem_offset.left-n.width()*r.option.offset.left+(r.option.vertical?0:t.over*u),h.position().left-h.outerWidth(true)*r.option.elem_offset.left-n.width()*r.option.offset.left+(r.option.vertical?0:f.over*u),t.point);if(!r.option.vertical){if(p>u){p-=u*2}else if(p>0){p-=u}else if(p+u*2<n.width()){p+=u}}var v=-d(l.position().top-l.outerHeight(true)*r.option.elem_offset.top-n.height()*r.option.offset.top+(r.option.vertical?t.over*a:0),h.position().top-h.outerHeight(true)*r.option.elem_offset.top-n.height()*r.option.offset.top+(r.option.vertical?f.over*a:0),t.point);if(r.option.vertical){if(v>a){v-=a*2}else if(v>0){v-=a}else if(v+a*2<n.height()){v+=a}}n.children().eq(0).css({left:p,top:v});return true}function c(e){if(s==0)return{index:0,point:0,over:0};var t=p(e);e=t.int+(e<0?-t.point:t.point);var n=Math.floor(e);if(e<0){return{index:(s+n%s)%s,point:e-n,over:-1}}else{return{index:n%s,point:e-n,over:n<s?0:1}}}function h(e){if(s==0)return 0;var t=c(e%s-o);t=t.index+t.point;var n=c(o-e%s);n=-(n.index+n.point);var r=Math.abs(t);var i=Math.abs(n);if(r==i){return e<s?n:t}else{return r>i?n:t}}function p(e){var t=e<0?Math.ceil(e):Math.floor(e);var n=Math.abs(e-t);if(n<1e-10){n=0}else if(n>.9999999999){t+=e<0?-1:1;n=0}return{"int":t,point:n}}function d(e,t,n){return(t-e)*n+e}var n=e(this).eq(0);var r=n.data("el_func");if(r!=null){r.option=e.extend(r.option,t);r.init();return r}var i,s;var o=0,u,a;var f=null;if(n.css("position")=="static")n.css("position","relative");n.css("overflow","hidden");n.children().eq(0).css("position","absolute");r={option:{vertical:false,offset:{left:.5,top:.5},elem_offset:{left:-.5,top:-.5},move_minimum:false,moveBefore:function(){},moveStep:function(e){},moveAfter:function(e){}},init:function(){n.children().eq(0).children("[data-clone=1]").remove();i=n.children().eq(0).children(":visible");s=i.length;if(this.option.vertical){u=n.children().eq(0).outerWidth(true);a=0;i.each(function(){a+=e(this).outerHeight(true)});if(n.height()<=a){n.children().eq(0).height(a*2).append(i.clone(true).attr("data-clone","1"));i=n.children().eq(0).children(":visible")}else{n.children().eq(0).height(a).css({left:u*this.option.elem_offset.left+n.width()*this.option.offset.left,top:a*this.option.elem_offset.top+n.height()*this.option.offset.top});s=0}}else{u=0;a=n.children().eq(0).outerHeight(true);i.each(function(){u+=e(this).outerWidth(true)});if(n.width()<=u){n.children().eq(0).width(u*2).append(i.clone(true).attr("data-clone","1"));i=n.children().eq(0).children(":visible")}else{n.children().eq(0).width(u).css({left:u*this.option.elem_offset.left+n.width()*this.option.offset.left,top:a*this.option.elem_offset.top+n.height()*this.option.offset.top});s=0}}l(o)},move:function(t,n,r){function h(){a=a==null?n>1?0:1:a+((new Date).getTime()-c);c=(new Date).getTime();if(a<0||a>n)a=n;var s=a/n;if(l(i+t*r(s,a,0,1,n))){u.option.moveStep(s)}else{a=n}if(a<n){f=setTimeout(h,e.fx.interval)}else{u.stop();u.option.moveAfter(a==n)}}if(s==0||!e.isNumeric(t))return 0;this.stop();if(this.option.move_minimum)t%=s;r=e.easing[r in e.easing&&r||r==null&&n in e.easing&&!(n in e.fx.speeds)&&n||"swing"];if(t==0){n=1}else if(e.isNumeric(n)){if(n<=0)n=1}else{n=e.fx.speeds[n in e.fx.speeds&&n||"_default"]}var i=o;var u=this;var a=null,c;this.option.moveBefore();h();return t},moveByIndex:function(e,t,n){if(e<0)return 0;return this.move(h(e),t,n)},moveByElem:function(e,t,n){var r=i.index(e);if(r<0)return 0;return this.move(h(r),t,n)},slide:function(t){function a(){i=i==null?0:i+((new Date).getTime()-u);u=(new Date).getTime();if(l(n+i/t)){r.option.moveStep(c(o).point);f=setTimeout(a,e.fx.interval)}else{r.stop()}}if(s==0||!e.isNumeric(t)||t==0)return;this.stop();var n=o;var r=this;var i=null,u;this.option.moveBefore();a()},stop:function(){if(f==null)return;clearTimeout(f);f=null},isAnim:function(){return f!=null},count:function(){return s},getPos:function(t){return c(o+(e.isNumeric(t)?t:0))}};r.option=e.extend(r.option,t);r.init();n.data("el_func",r);return r}})})(jQuery)